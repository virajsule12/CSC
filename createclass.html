<html>
  <head>
    <title>Simple login</title>
  </head>
  <script>

      function clickedClasses(){
        window.location.href = "http://virajsule.me/classlist.html";
      }

      function clickedPost(){
        window.location.href = "http://virajsule.me/teacherpost.html";
      }

      function clickedCreate(){
        window.location.href = "http://virajsule.me/createclass.html";
      }

      function clickedLogout(){
        window.location.href = "http://virajsule.me/index.html";
      }

      function createClass(){
        // alert(localStorage.getItem('cscToken'))
        var cCode = randomString(6, 'ABCDEFGHIJKLMNOPQRSTUVWXYZ')
        var cName = document.getElementById('cName').value;
        var xhr = new XMLHttpRequest();
        xhr.open("POST", "http://virajsule.me:3000/createClass",true);
        xhr.setRequestHeader("Content-Type", "application/json");
        xhr.responseType = "text"
        xhr.setRequestHeader('Authorization','Bearer ' + localStorage.getItem('cscToken'))
        xhr.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                document.getElementById('codeTxt').innerText = "Access Code: " + cCode;
            }
        };

        console.log(xhr.send(JSON.stringify({
            class_code: cCode.toString(),
            class_name: cName,
        })));
    }

    function randomString(length, chars) {
      var result = '';
      for (var i = length; i > 0; --i) result += chars[Math.floor(Math.random() * chars.length)];
      return result;
    }
      
  </script>
  <style>
    ul {
         list-style-type: none;
         margin: 0;
         padding: 0;
         overflow: hidden;
         background-color: #F7B733;
     }
     li {
         float: left;
     }

     li a {
         display: block;
         color: #4ABDAC;
         font-weight: bold;
         text-align: center;
         padding: 14px 16px;
         text-decoration: none;
     }

     li a:hover {
         background-color: rgb(70, 63, 3);
     } 
</style>
  <body bgcolor = "#4ABDAC">
    <ul>
      <li><a class="active" onclick="clickedClasses();">Classes</a></li>
      <li><a onclick="clickedPost();">Post Assignment</a></li>
      <li><a onclick="clickedCreate()">Create Class</a></li>
      <li><a onclick="clickedLogout()">Logout</a></li>
    </ul>

    <h1>Create a Class</h1>
    <input type="text" placeholder="Enter Class Name" id="cName">
    <button onclick="createClass()">Create Class</button>
    <p id='codeTxt'></p>

  </body>
</html>